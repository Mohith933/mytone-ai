<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MyTone AI â€” Dashboard</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
<nav class="navbar">
    <div class="logo">MyTone AI</div>

    <div class="hamburger" id="hamburgerBtn">
      <span></span><span></span><span></span>
    </div>

    <ul class="navMenu" id="nav-links">
      <li><a href="home.html">Home</a></li>
      <li><a href="index.html">Voice App</a></li>
      <li><a href="#" class="active">Dashboard</a></li>
      <li><a href="docs.html">Docs</a></li>
      
    <button id="modeToggle" class="btn-secondary">ðŸŒ™ Dark Mode</button>
    </ul>
  </nav>
  <section class="dashboard-section">

    <h2 id="welcomeUser">Welcome ðŸ‘‹</h2>

    <h2>Overview</h2>

    <div class="dashboard-grid">
      <div class="profile-card">
        <h3 id="statVoices">0</h3>
        <p class="muted">Voice Plays</p>
      </div>

      <div class="profile-card">
        <h3 id="statPresets">0</h3>
        <p class="muted">Presets Saved</p>
      </div>

      <div class="profile-card">
        <h3 id="statBlends">0</h3>
        <p class="muted">Blend Profiles</p>
      </div>

      <div class="profile-card">
        <h3 id="statExports">0</h3>
        <p class="muted">Exports</p>
      </div>
    </div>
  </section>

  <!-- ===================== -->
  <!-- RECENT ACTIVITY -->
  <!-- ===================== -->
  <section class="dashboard-section">
    <h2>Recent Activity</h2>

    <div id="recentActivity" class="profile-card">
      <p class="muted">No activity yet</p>
    </div>
  </section>

  <!-- ===================== -->
  <!-- SAVED PRESETS -->
  <!-- ===================== -->
  <section class="dashboard-section">
    <h2>Your Voice Presets</h2>

    <div id="presetGrid" class="dashboard-grid">
      <div class="profile-card muted">No presets saved</div>
    </div>
  </section>

  <!-- ===================== -->
  <!-- VOICE PROFILE STATUS -->
  <!-- ===================== -->
  <section class="dashboard-section">
    <h2>Voice Profile Status</h2>

    <div class="profile-card">
      <p><strong>Similarity Score:</strong> <span id="similarityScoreDash">â€”</span></p>
      <p><strong>Sample Uploaded:</strong> <span id="sampleStatus">No</span></p>
      <p class="muted">Real voice cloning unlocks in M1.0</p>
    </div>
  </section>

  <!-- ===================== -->
  <!-- QUICK ACTIONS -->
  <!-- ===================== -->
  <section class="dashboard-section">
    <h2>Quick Actions</h2>

    <div style="display:flex;gap:10px;flex-wrap:wrap;">
      <a href="index.html" class="btn-primary">ðŸŽ™ Open Voice Studio</a>
      <button id="clearDataBtn" class="btn-secondary">ðŸ§¹ Clear Local Data</button>
    </div>
  </section>

<footer class="footer">
  <p>Â© 2025 MyTone AI â€” Dashboard M0.9</p>
</footer>

<script>
/* ------------------------------
   Helpers
------------------------------ */
function $(id){ return document.getElementById(id); }
function load(key){ try { return JSON.parse(localStorage.getItem(key)||'[]'); } catch(e){ return []; } }

/* ------------------------------
   Load Data
------------------------------ */
const history = load('mytone_history_v0.7');
const presets = load('mytone_presets_v0.7');
const blends  = load('mytone_blends_v0.8');

const hamburgerBtn = $('hamburgerBtn');
const navLinks = $('nav-links');
const modeToggle = $('modeToggle');



// ---------- NAVBAR / HAMBURGER ----------
if (hamburgerBtn && navLinks) {
  hamburgerBtn.addEventListener('click', () => {
    navLinks.classList.toggle('open');
    hamburgerBtn.classList.toggle('active');
  });

  // close when clicking a nav link
  navLinks.querySelectorAll('a').forEach(a => a.addEventListener('click', () => {
    navLinks.classList.remove('open'); hamburgerBtn.classList.remove('active');
  }));

  // click outside closes
  document.addEventListener('click', (e) => {
    if (!navLinks.contains(e.target) && !hamburgerBtn.contains(e.target)) {
      navLinks.classList.remove('open'); hamburgerBtn.classList.remove('active');
    }
  });
}

// ---------- THEME (persist) ----------
(function initTheme(){
  try {
    const t = localStorage.getItem('theme');
    if (t === 'dark') document.body.classList.add('dark-mode');
    if (modeToggle) modeToggle.textContent = document.body.classList.contains('dark-mode') ? 'â˜€ï¸ Light Mode' : 'ðŸŒ™ Dark Mode';
  } catch(e){}
})();
if (modeToggle) {
  modeToggle.addEventListener('click', () => {
    document.body.classList.toggle('dark-mode');
    try { localStorage.setItem('theme', document.body.classList.contains('dark-mode') ? 'dark' : 'light'); } catch(e){}
    modeToggle.textContent = document.body.classList.contains('dark-mode') ? 'â˜€ï¸ Light Mode' : 'ðŸŒ™ Dark Mode';
  });
}

const welcomeUser = document.getElementById("welcomeUser");
const storedUser = localStorage.getItem("mytone_user");
const openSignup = document.getElementById("openSignup");

if (welcomeUser && storedUser) {
  welcomeUser.textContent = `Welcome, ${storedUser} ðŸ‘‹`;
}

if (openSignup && localStorage.getItem("mytone_user")) {
  window.location.href = "dashboard.html";
}

/* ------------------------------
   Stats
------------------------------ */
$('statVoices').textContent = history.length;
$('statPresets').textContent = presets.length;
$('statBlends').textContent = blends.length;
$('statExports').textContent = history.filter(h => h.exported).length || 0;

/* ------------------------------
   Recent Activity
------------------------------ */
if (history.length) {
  const h = history[0];
  $('recentActivity').innerHTML = `
    <p><strong>Last Text:</strong></p>
    <p>${(h.text || '').slice(0,120)}</p>
    <p class="muted">${new Date(h.ts).toLocaleString()}</p>
  `;
}

/* ------------------------------
   Presets Grid
------------------------------ */
const grid = $('presetGrid');
grid.innerHTML = '';

if (!presets.length) {
  grid.innerHTML = '<div class="profile-card muted">No presets saved</div>';
} else {
  presets.forEach(p => {
    const card = document.createElement('div');
    card.className = 'profile-card';
    card.innerHTML = `
      <h4>${p.name}</h4>
      <p class="muted">Tone: ${p.tone} | Speed: ${p.rate}</p>
      <p class="muted">Emotion: ${p.emotion}</p>
      <a href="index.html" class="btn-secondary" style="margin-top:8px;">â–¶ Use</a>
    `;
    grid.appendChild(card);
  });
}

/* ------------------------------
   Voice Status (Fake ML)
------------------------------ */
$('similarityScoreDash').textContent =
  history.length ? Math.min(90, 50 + history.length * 2) + '%' : 'â€”';

$('sampleStatus').textContent =
  localStorage.getItem('voice_sample_uploaded') ? 'Yes' : 'No';

/* ------------------------------
   Clear Data
------------------------------ */
$('clearDataBtn').addEventListener('click', () => {
  if (!confirm('Clear all MyTone AI local data?')) return;
  localStorage.clear();
  location.reload();
});
</script>
</body>
</html>

